# Quy trình bán hàng từ khi user PAID xong đơn (tiếp phần hôm trước, sau khi user thanh toán và trạng thái đơn là paid)

---

## Bán hàng

### Người bán (Seller)
- Lấy danh sách đơn đã thanh toán của khách:  
  `GET /api/seller/orders/paid`
- Mở chi tiết đơn để xem món cần nấu:  
  `GET /api/seller/orders/detail/{orderId}`
- Trên màn hình chi tiết có nút cập nhật trạng thái. Các trạng thái theo thứ tự:  
  `Paid -> Confirm -> Ship -> Delivered -> Complete`  
  - Người bán chuyển trạng thái từ **Paid → Confirm** để nhận đơn.  
  - Người bán chuyển trạng thái từ **Confirm → Ship** để chuyển đơn đi.

### Người mua (Buyer)
- Lấy danh sách đơn đã được người bán ship:  
  `GET /api/buyer/orders/shipped`  
  Hoặc lấy danh sách đơn theo trạng thái (`Paid`, `Confirm`, `Ship`) qua:  
  `GET /api/buyer/orders?status={status}`
- Nhận hàng, bấm "Đã giao":  
  `POST /api/buyer/orders/{orderId}/deliver`
- Chấp nhận nhận hàng, không khiếu nại:  
  `POST /api/buyer/orders/{orderId}/complete`  
  > Bắt buộc, liên quan đến việc trả tiền cho người bán.

---

## Ví, trả tiền người bán (cần màn xem ví, xem giao dịch, rút tiền)

- Phí bán: 10% mỗi đơn, tự trừ.
- Khi đăng ký, người bán sẽ có ví. Khi user đã **Paid**, tiền ở trạng thái **Pending** (không rút được).  
  Sau khi user bấm **Complete**, tiền chuyển từ **Pending → Ví thật** và có thể rút.

### API Ví
- Xem tiền, ví bản thân:  
  `GET /api/seller/wallet/my-wallet`
- Xem lịch sử ví (tiền, rút, phí bị trừ…):  
  `GET /api/seller/wallet/transactions`
- Rút tiền:  
  `POST /api/seller/wallet/my-wallet`  
  > Hiện mock là 100% thành công
---
---

## Thống kê đơn hàng

- Cả **người bán** và **người mua** đều có màn thống kê đơn hàng.  
- Giao diện: **Dropdown chọn OrderStatus** (ví dụ: Paid, Confirm, Ship, Delivered, Complete) để lọc đơn.  
- API sử dụng:  
  - **Người mua:** `GET /api/buyer/orders?status={status}`  
  - **Người bán:** `GET /api/seller/orders/paid?status={status}`  
- Mục đích: Theo dõi và quản lý đơn hàng theo trạng thái.
## Các api thống kê thêm: đang cập nhật